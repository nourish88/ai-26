{
  "ConnectionStrings": {
    "Database": "Server=localhost;Port=5532;Database=jugaai;User Id=postgres;Password=mysecreTpassword2*!;Include Error Detail=true"
  },
  "MaxFileUploadSizeInMB": 200,
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft": "Information",
      "Microsoft.Hosting.Lifetime": "Information",
      "Microsoft.EntityFrameworkCore.Database.Command": "Information"
    }
  },
  "AppSettings": {
    "AdminRoleName": "jugaai-admin"
  },
  "IndexSettings": {
    "ServiceUserNameMappings": {
      "elastic-local": "fake"
    },
    "ServicePasswordMappings": {
      "elastic-local": "fake"
    }
  },
  "EmbeddingSettings": {
    "ServiceKeyMappings": {
      "Qwen3-Embedding-4B": "not-need"
    }
  },
  "FileStorageSettings": {
    "BucketNameMappings": {
      "s3": "juga"
    }
  },
  "DataManager": {
    "Url": "http://localhost:8787"
  },
  "Minio": {
    "Host": "localhost:8090",
    "AccessKey": "minio",
    "SecretKey": "miniosecret",
    "Secure": false
  },
  "Juga": {
    "OpenApi": {
      "Name": "JugaAI-Api"
    },
    "Api": {
      "AllowAnonymous": false
    },
    "Data": {
      "UnitOfWork": {
        "EnableCreatedAtAuditField": true,
        "EnableCreatedByAuditField": true,
        "EnableCreatedDateAuditField": true,
        "EnableUpdatedAtAuditField": true,
        "EnableUpdatedByAuditField": true,
        "EnableUpdatedDateAuditField": true,
        "EnableCreatedByUserCodeAuditField": true,
        "EnableUpdatedByUserCodeAuditField": false,
        "RunAsDisconnected": true,
        "EnableDebuggerLogger": true,
        "DefaultDeleteBehavior": "Cascade",
        "EnableDatabaseCreation": true,
        "EnableDatabaseDeletion": true,
        "EnableDataAudit": false,
        "DatabaseOptions": {
          "DatabaseType": "PostgreSql",
          "ConnectionString": "Server=localhost;Port=5532;Database=jugaai;User Id=postgres;Password=mysecreTpassword2*!;Include Error Detail=true",
          "MigrationAssemblyName": "AdminBackend.Infrastructure"
        },
        "RunSaveChangesAsTransactional": true
      }
    },
    "DataAudit": {
      "SqlServer": {
        "ConnectionString": "**************",
        "SchemaName": "dbo",
        "TableName": "AuditLogs",
        "AuditTablePrimaryKeyColumnName": "Id",
        "AuditTableColumnNameForPk1": "Pk1",
        "AuditTableColumnNameForPk2": "Pk2",
        "AuditTableColumnNameForPkGuid": "PkGuid",
        "AuditTableColumnNameForDatabaseName": "Database",
        "AuditTableColumnNameForSchemaName": "Schema",
        "AuditTableColumnNameForTableName": "Table",
        "AuditTableColumnNameForEventType": "EventType",
        "AuditTableColumnNameForPropertyValues": "Data",
        "AuditTableColumnNameForEventTime": "EventTime",
        "AuditTableColumnNameForUser": "User"
      },
      "Elastic": {
        "Hosts": "http://localhost:9200",
        "Timeout": 60,
        "IndexName": "auditlogs",
        "UserName": "",
        "Password": ""
      },
      "PostgreSql": {
        "ConnectionString": "Server=localhost;Port=5532;Database=jugaai;User Id=postgres;Password=mysecreTpassword2*!;Include Error Detail=true",
        "SchemaName": "jugaai",
        "TableName": "AuditLogs",
        "AuditTablePrimaryKeyColumnName": "Id",
        "AuditTableColumnNameForPk1": "Pk1",
        "AuditTableColumnNameForPk2": "Pk2",
        "AuditTableColumnNameForPkGuid": "PkGuid",
        "AuditTableColumnNameForDatabaseName": "Database",
        "AuditTableColumnNameForSchemaName": "Schema",
        "AuditTableColumnNameForTableName": "Table",
        "AuditTableColumnNameForEventType": "EventType",
        "AuditTableColumnNameForPropertyValues": "Data",
        "AuditTableColumnNameForEventTime": "EventTime",
        "AuditTableColumnNameForUser": "User"
      }

    },
    "Security": {
      "Jwt": {
        "ClientId": "guestbookApi",
        "ClientSecret": "b04fa16c-4725-471a-993e-c10bfb7dcc85",
        "Audience": "account",
        "Authority": "http://127.0.0.1:8080/auth/realms/Juga",
        "RequireHttpsMetadata": "false"
        //"TokenValidationParameters": {
        //  "ValidateAudience": "false"
        //}
      }
    },
    "Logging": {
      "LoggerType": "Serilog",
      "EnableSelfLog": true,
      "ApplicationName": "JugaAI-AdminBackend.Api",
      "OverrideMicrosoftLevels": false,
      //  "ExcludedSourceContext": [ "Microsoft", "System" ],
      "OverrideLevels": {
        "Serilog.AspNetCore.RequestLoggingMiddleware": "Warning",
        "Microsoft.EntityFrameworkCore.Database.Command": "Debug"
      },
      "EnableWriteToConsole": true,
      "EnableWriteToDebug": false,
      "ClearDefaultLogProviders": true,
      "EnableRequestResponseLogging": false,
      "EnableWriteToFile": false,
      "LogToFileOptions": {
        "Path": "./Logs/log.json",
        "MinimumLevel": "Information",
        "RollingInterval": "Day"
      },
      "EnableWriteToElasticSearch": false,
      "LogToElasticSearchOptions": {
        "MinimumLevel": "Information",
        "Uri": "http://localhost:9200",
        "AutoRegisterTemplate": false,
        "TemplateName": "microservice-basketapi-events-template",
        "IndexFormat": "microservice-basketapi-log-{0:yyyy.MM.dd}"
      },
      "EnableWriteToMsSqlServer": false,
      "LogToMsSqlServerOptions": {
        "ConnectionString": "*****************",
        "AutoCreateSqlTable": true,
        "SchemaName": "dbo",
        "TableName": "Logs",
        "BatchPeriod": 5,
        "BatchPostingLimit": 50,
        "MinimumLevel": "Information"
      },
      "EnableWriteToPostgresql": false,
      "LogToPostgresqlOptions": {
        "ConnectionString": "Server=localhost;Port=5433;Database=EShopBasketDb;User Id=postgres;Password=postgres;Include Error Detail=true",
        "AutoCreateTable": true,
        "AutoCreateSchema": true,
        "SchemaName": "jugaai",
        "TableName": "logs",
        "BatchPeriod": 5,
        "BatchPostLimit": 50,
        "MinimumLevel": "Information"
      },
      "EnableWriteToSeq": false,
      "LogToSeqOptions": {
        "MinimumLevel": "Information",
        "Uri": "http://localhost:5341"
      },
      "EnableWriteToOpenTelemetry": false,
      "LogToOpenTelemetryOptions": {
        "CollectorUrl": "http://localhost:4317"
      }
    },
    "KeyVault": {
      "SecretName": "Juga",
      "SecretsEngine": "secret",
      "Address": "http://localhost:8200",
      "Token": "root"
    },

    "CQRS": {
      "Enabled": "true"
    },
    "Caching": {
      "InMemory": {
        "Name": "InMemoryCache",
        "EnableCacheUpdateMode": true,
        "DefaultExpirtaionMode": "Sliding",
        "DefaultExpirationTimeout": "00:10:00",
        "PolicySettings": {
          "Policy1": {
            "ExpirationMode": "Default",
            "ExpirationTime": "00:00:05"
          },
          "Policy2": {
            "ExpirationMode": "Absolute",
            "ExpirationTime": "00:00:15"
          }
        },
        "CacheItemSettings": {
          "Key1": {
            "ExpirationMode": "Default",
            "ExpirationTime": "00:00:05"
          },
          "Key2": {
            "ExpirationMode": "Absolute",
            "ExpirationTime": "00:00:15"
          },
          "Key3": {
            "ExpirationMode": "Absolute",
            "ExpirationTime": "00:00:20"
          }
        },
        "EnableJsonSerializer": true
      },
      "Redis": {
        "Name": "RedisCache",
        "EnableCacheUpdateMode": true,
        "DefaultExpirtaionMode": "Sliding",
        "DefaultExpirationTimeout": "00:30:00",
        "PolicySettings": {
          "Policy1": {
            "ExpirationMode": "Default",
            "ExpirationTime": "00:00:05"
          },
          "Policy2": {
            "ExpirationMode": "Absolute",
            "ExpirationTime": "00:00:01"
          }
        },
        "CacheItemSettings": {
          "Key1": {
            "ExpirationMode": "Default",
            "ExpirationTime": "00:00:05"
          },
          "Key2": {
            "ExpirationMode": "Absolute",
            "ExpirationTime": "00:00:15"
          },
          "Key3": {
            "ExpirationMode": "Absolute",
            "ExpirationTime": "00:00:20"
          }
        },
        "EnableJsonSerializer": true,
        "PreserveReferencesHandling": "Objects",
        "ConfigurationKey": "ConfigurationKey",
        "ConnectionString": "localhost:6379,allowAdmin=true",
        "Database": 0,
        "MaxRetries": 50,
        "RetryTimeout": 100
      },
      "GeneralSettings": {
        "SlidingExpiration": 2,
        "Mechanism": "Microsoft",
        "RedisEndPoint": "localhost:6379"
      }
    },

    "TaskScheduling": {
      "Hangfire": {
        "Enabled": false,
        "DataBaseName": "Data Source=.;Initial Catalog=JugaHangfire;Integrated Security=True",
        "SelfBackgroundJobServer": true,
        "Queues": [ "default" ],
        "ServerName": "guestbookapi",
        "ShutDownTimeout": 30
      }
    },
    "OpenTelemetry": {
      "IsEnabled": false,
      "ServiceName": "Guestbook.API",
      "ServiceVersion": "1.0.0",
      "ActivitySourceName": "ActivitySource.Guestbook.API",
      "ExporterUri": "http://localhost:4317"
    },
    "RabbitMq": {
      "Host": "localhost",
      "Username": "guest",
      "Password": "guest"
    },
    "Queue": {
      "IsEnabled": false,
      "QueueType": "RabbitMQ", //None,RabbitMQ,InMemory
      "OutboxType": "None", //None,SqlServer,Postgres
      "ConnectionStrings": {
        "RabbitMQ": "amqp://guest:guest@localhost:5672"
      }
    },
    "Observability": {
      "Enabled": false,
      "ServiceName": "Microservice-Basket",
      "ServiceVersion": "1.0.0",
      "CollectorUrl": "http://localhost:4317",
      "EnabledTracing": true,
      "EnabledMetrics": true
    },
    "Service": {
      "Backends": [
        {
          "Name": "DataGateway",
          "Address": "http://localhost:18787"
        }
      ]
    }
  },
  "AllowedHosts": "*"
}